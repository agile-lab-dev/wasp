image: alpine

variables:
  SBT_VERSION: "1.0.3"
  SBT_OPTS: "-Xmx2G -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled -XX:MaxPermSize=2G -Xss2M  -Duser.timezone=GMT -Dsbt.global.base=sbt-cache/.sbtboot -Dsbt.boot.directory=sbt-cache/.boot -Dsbt.repository.config=repositories -Dsbt.ivy.home=sbt-cache/.ivy"
stages:
  - publish

# publish to bintray using sbt
sbt-publish:
  tags:
    - cluster01
  stage: publish
  image: "hseeberger/scala-sbt:8u151-2.12.4-1.0.2"
  only:
    refs:
      - develop
  script:
    - sbt -v publish